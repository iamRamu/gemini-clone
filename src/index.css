@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  body {
    @apply bg-white dark:bg-gray-900 text-gray-900 dark:text-white transition-colors;
  }
}

@layer components {
  .btn-primary {
    @apply bg-gradient-to-r from-gemini-blue to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-2.5 px-5 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl min-h-[42px] text-sm;
  }
  
  .btn-secondary {
    @apply bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 hover:border-white/30 text-gray-700 dark:text-gray-200 font-semibold py-2.5 px-5 rounded-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transform hover:scale-[1.02] active:scale-[0.98] min-h-[42px] text-sm;
  }
  
  .input-field {
    @apply w-full px-3 py-2.5 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm text-gray-900 dark:text-white transition-all duration-300 hover:border-gray-300 dark:hover:border-gray-500 placeholder:text-gray-500 dark:placeholder:text-gray-400 min-h-[40px] text-sm;
  }
  
  .card {
    @apply bg-white/95 dark:bg-gray-800/95 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/50 ring-1 ring-black/5 dark:ring-white/5;
  }
  
  .message-bubble {
    @apply max-w-xs lg:max-w-md px-4 py-2 rounded-2xl break-words;
  }
  
  .message-user {
    @apply bg-gemini-blue text-white ml-auto;
  }
  
  .message-ai {
    @apply bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white mr-auto;
  }
}

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }
  
  .scrollbar-thumb-gray-300::-webkit-scrollbar-thumb {
    background-color: rgb(209 213 219);
    border-radius: 3px;
  }
  
  .dark .scrollbar-thumb-gray-600::-webkit-scrollbar-thumb {
    background-color: rgb(75 85 99);
    border-radius: 3px;
  }
  
  .scrollbar-track-gray-100::-webkit-scrollbar-track {
    background-color: rgb(243 244 246);
    border-radius: 3px;
  }
  
  .dark .scrollbar-track-gray-800::-webkit-scrollbar-track {
    background-color: rgb(31 41 55);
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgb(156 163 175);
  }
  
  .dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgb(107 114 128);
  }
  
  .form-field {
    @apply space-y-2;
  }
  
  .form-label {
    @apply block text-base font-semibold text-gray-700 dark:text-gray-300 mb-2;
  }
  
  .form-label-required {
    @apply block text-base font-semibold text-gray-700 dark:text-gray-300 mb-2;
  }
  
  .form-label-required::after {
    content: ' *';
    color: #ef4444 !important;
    font-weight: bold !important;
    font-size: inherit !important;
  }
  
  .form-error {
    @apply text-red-500 text-sm font-medium animate-fade-in mt-2 flex items-start space-x-1;
  }
  
  .form-error::before {
    content: 'âš ';
    @apply text-red-500 mt-0.5 flex-shrink-0;
  }
  
  .form-success {
    @apply text-green-600 dark:text-green-400 text-sm font-medium animate-fade-in flex items-center space-x-2;
  }
  
  .loading-overlay {
    @apply absolute inset-0 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl flex items-center justify-center z-10;
  }
  
  .btn-loading {
    @apply relative overflow-hidden;
  }
  
  .btn-loading::after {
    @apply absolute inset-0 bg-white/20 animate-pulse;
    content: '';
  }
  
  .country-button {
    @apply flex items-center space-x-2 px-3 py-2.5 border border-gray-200 dark:border-gray-600 rounded-l-lg bg-gray-50/80 dark:bg-gray-700/80 hover:bg-gray-100/80 dark:hover:bg-gray-600/80 transition-all duration-300 backdrop-blur-sm min-w-[90px] min-h-[40px];
  }
  
  .country-dropdown {
    @apply absolute top-full left-0 right-0 z-50 mt-2 bg-white/95 dark:bg-gray-800/95 backdrop-blur-lg border border-gray-200 dark:border-gray-600 rounded-xl shadow-2xl max-h-72 overflow-hidden ring-1 ring-black/5 dark:ring-white/5;
  }
  
  .country-item {
    @apply w-full flex items-center space-x-4 px-5 py-4 hover:bg-gray-100/80 dark:hover:bg-gray-700/80 transition-all duration-200 text-left min-h-[56px];
  }
  
  .otp-input {
    @apply input-field text-center text-xl tracking-[0.4em] font-bold min-h-[48px];
  }
  
  .header-icon {
    @apply bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-lg rounded-3xl p-6 ring-1 ring-white/20 shadow-xl;
  }
  
  .auth-title {
    @apply text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4 drop-shadow-lg;
  }
  
  .auth-subtitle {
    @apply text-base sm:text-lg lg:text-xl text-white/90 drop-shadow-sm;
  }
  
  .demo-note {
    @apply text-white/80 text-sm px-5 py-4 bg-black/10 backdrop-blur-sm rounded-xl border border-white/20 max-w-sm mx-auto;
  }
  
  .modal-overlay {
    @apply fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50;
  }
  
  .modal-content {
    @apply bg-white/95 dark:bg-gray-800/95 backdrop-blur-lg rounded-2xl shadow-2xl transform transition-all border border-white/20 dark:border-gray-700/50 ring-1 ring-black/5 dark:ring-white/5;
  }
  
  .modal-header {
    @apply flex items-center justify-between p-6 pb-4;
  }
  
  .modal-icon {
    @apply p-3 rounded-2xl shadow-lg;
  }
  
  .modal-actions {
    @apply flex space-x-3;
  }
  
  .modal-button-primary {
    @apply flex-1 px-6 py-3 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02];
  }
  
  .modal-button-secondary {
    @apply flex-1 px-6 py-3 bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-xl font-semibold hover:bg-gray-50 dark:hover:bg-gray-500 transition-all duration-200 border border-gray-300 dark:border-gray-500 shadow-sm hover:shadow-md transform hover:scale-[1.02];
  }
  
  /* Consistent border styling */
  .border-line {
    border-color: rgb(229 231 235);
  }
  
  .dark .border-line {
    border-color: rgb(55 65 81);
  }

  /* Mobile-specific height fixes */
  .mobile-height-fix {
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
  }
  
  .dashboard-container {
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
    display: flex;
    flex-direction: column;
  }
  
  .chat-header-fixed {
    flex-shrink: 0;
    position: sticky;
    top: 0;
    z-index: 20;
    background: inherit;
  }
  
  .messages-scrollable {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    min-height: 0;
    -webkit-overflow-scrolling: touch;
  }
  
  .input-area-sticky {
    flex-shrink: 0;
    position: sticky;
    bottom: 0;
    background: inherit;
    z-index: 30;
  }
  
  @media (max-width: 768px) {
    .dashboard-container {
      height: 100vh;
      height: calc(var(--vh, 1vh) * 100);
    }
    
    .messages-scrollable {
      padding-bottom: env(safe-area-inset-bottom, 0);
    }
    
    .input-area-sticky {
      padding-bottom: env(safe-area-inset-bottom, 16px);
    }
    
    /* Prevent zoom on input focus */
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    textarea {
      font-size: 16px;
    }
  }

  /* Mobile-specific styles */
  @screen sm {
    .country-button {
      @apply min-w-[95px] px-3;
    }
    
    .otp-input {
      @apply text-xl tracking-[0.3em] min-h-[50px];
    }
    
    .form-field {
      @apply space-y-2;
    }
    
    .btn-primary, .btn-secondary {
      @apply py-2.5 min-h-[44px] text-sm;
    }
    
    .input-field {
      @apply py-2.5 min-h-[42px] text-sm;
    }
  }
  
  @screen md {
    .card {
      @apply p-12 max-w-2xl mx-auto;
    }
    
    .form-field {
      @apply space-y-3;
    }
    
    .btn-primary, .btn-secondary {
      @apply py-3 min-h-[46px] text-base;
    }
    
    .input-field {
      @apply py-3 min-h-[46px] text-base;
    }
    
    .otp-input {
      @apply text-2xl min-h-[54px];
    }
  }
  
  @screen lg {
    .card {
      @apply max-w-3xl p-16;
    }
    
    .form-field {
      @apply space-y-4;
    }
  }
}